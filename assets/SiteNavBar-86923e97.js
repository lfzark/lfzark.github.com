import{u as v,d as h}from"./draggable-6d18bd5f.js";import{u as C}from"./modal-28403a0c.js";import{d as I,i as k,j as y,u as w,c as B,e as b,w as l,m as N,f as n,a as E,g as D,k as M,o as _,b as p,t as V,n as $,l as z,q as j,_ as q}from"./index-3d7fbf2c.js";const O=i=>(z("data-v-764277e7"),i=i(),j(),i),P={"flex-center":"","text-14":""},R=["onClick"],A=O(()=>p("div",{"i-carbon:add":""},null,-1)),F=I({__name:"SiteNavBar",setup(i){const r=C(),t=k(),m=y();function u(o){m.name==="setting"&&t.cateIndex===o?r.showModal("update","cate"):t.setCateIndex(o)}const c=w(),{draggableOptions:g,handleStart:x,handleEnd:f}=v();function S(o){f();const{oldIndex:a,newIndex:s}=o,{cateIndex:e}=t;if(a===e&&s!==e)t.setCateIndex(s);else{if(a<e&&s<e||a>e&&s>e)return;a<e?t.setCateIndex(e-1):a>e&&t.setCateIndex(e+1)}}return(o,a)=>{const s=M;return _(),B("section",P,[b(n(h),N({class:"nav w-auto flex gap-x-6 w-90p sm:gap-x-12 sm:max-w-480",list:n(t).data,"item-key":"id","component-data":{tag:"div",type:"transition-group"}},n(g),{onStart:n(x),onEnd:S}),{item:l(({element:e,index:d})=>[p("div",{class:$(["dragging nav__item shrink-0",{"hover:text-$primary-c":!n(c).isSetting,"nav__item--active":n(t).cateIndex===d}]),"cursor-pointer":"","px-8":"","py-10":"","transition-color":"","duration-300":"",onClick:G=>u(d)},V(e.name),11,R)]),_:1},16,["list","onStart"]),n(c).isSetting?(_(),E(s,{key:0,class:"ml-12",type:"primary",size:"small",focusable:!1,secondary:"",circle:"",onClick:a[0]||(a[0]=e=>n(r).showModal("add","cate"))},{icon:l(()=>[A]),_:1})):D("",!0)])}}});const L=q(F,[["__scopeId","data-v-764277e7"]]);export{L as default};
