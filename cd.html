<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>极简倒计时</title>
  <style>
    @font-face {
      font-family: "阿里妈妈灵动体 VF Thin";
      src: url("//at.alicdn.com/wf/webfont/BTvb51NUk2X7/A5vWERzmSAvt.woff2") format("woff2"),
           url("//at.alicdn.com/wf/webfont/BTvb51NUk2X7/xf4Q1kGdB5as.woff") format("woff");
      font-display: swap;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "阿里妈妈灵动体 VF Thin", sans-serif;
      background-color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      color: #222;
    }

    .container {
      text-align: center;
      padding: 20px;
      max-width: 100%;
    }

    #timer {
      font-size: 12vw;
      margin-bottom: 30px;
      letter-spacing: 3px;
      font-weight: 100;
    }

    .input-group {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 20px;
    }

    input {
      width: 20vw;
      padding: 10px;
      font-size: 4vw;
      border: none;
      border-bottom: 1px solid #ccc;
      text-align: center;
      font-family: "阿里妈妈灵动体 VF Thin", sans-serif;
      background: transparent;
      transition: border-color 0.3s;
    }

    input:focus {
      outline: none;
      border-bottom-color: #222;
    }

    .preset-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 20px;
    }

    .control-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    button {
      padding: 10px 25px;
      font-size: 4vw;
      border: 1px solid #222;
      background: transparent;
      color: #222;
      border-radius: 0;
      cursor: pointer;
      font-family: "阿里妈妈灵动体 VF Thin", sans-serif;
      transition: background-color 0.3s, color 0.3s;
    }

    button:hover:not(:disabled) {
      background-color: #222;
      color: #fff;
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    @media (max-width: 600px) {
      #timer {
        font-size: 14vw;
      }

      input {
        width: 25vw;
        font-size: 5vw;
      }

      button {
        font-size: 5vw;
        padding: 8px 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="timer">00:00:00</div>
    <div class="preset-buttons">
      <button onclick="setPreset(1)" aria-label="设置1分钟">1分钟</button>
      <button onclick="setPreset(3)" aria-label="设置3分钟">3分钟</button>
      <button onclick="setPreset(5)" aria-label="设置5分钟">5分钟</button>
    </div>
    <div class="input-group">
      <input type="number" id="hours" placeholder="时" min="0" max="99" aria-label="小时">
      <input type="number" id="minutes" placeholder="分" min="0" max="59" aria-label="分钟">
      <input type="number" id="seconds" placeholder="秒" min="0" max="59" aria-label="秒">
    </div>
    <div class="control-buttons">
      <button id="startBtn" onclick="startTimer()" aria-label="开始倒计时">开始</button>
      <button id="pauseBtn" onclick="togglePause()" disabled aria-label="暂停倒计时">暂停</button>
      <button id="resetBtn" onclick="resetTimer()" aria-label="重置倒计时">重置</button>
    </div>
  </div>

  <script>
    let timerInterval;
    let totalSeconds = 0;
    let isPaused = false;
    const elements = {
      hours: document.getElementById('hours'),
      minutes: document.getElementById('minutes'),
      seconds: document.getElementById('seconds'),
      timer: document.getElementById('timer'),
      startBtn: document.getElementById('startBtn'),
      pauseBtn: document.getElementById('pauseBtn'),
      resetBtn: document.getElementById('resetBtn')
    };

    // 输入验证
    [elements.hours, elements.minutes, elements.seconds].forEach(input => {
      input.addEventListener('input', function() {
        if (this.value < 0) this.value = 0;
        if (this === elements.hours && this.value > 99) this.value = 99;
        if ((this === elements.minutes || this === elements.seconds) && this.value > 59) this.value = 59;
      });
    });

    function setPreset(minutes) {
      clearInterval(timerInterval);
      totalSeconds = minutes * 60;
      elements.hours.value = '';
      elements.minutes.value = minutes;
      elements.seconds.value = '';
      updateTimerDisplay();
      elements.startBtn.disabled = false;
      elements.pauseBtn.disabled = true;
      isPaused = false;
    }

    function startTimer() {
      clearInterval(timerInterval);
      const hours = parseInt(elements.hours.value) || 0;
      const minutes = parseInt(elements.minutes.value) || 0;
      const seconds = parseInt(elements.seconds.value) || 0;

      totalSeconds = hours * 3600 + minutes * 60 + seconds;

      if (totalSeconds <= 0) {
        alert('请输入有效时间！');
        return;
      }

      elements.startBtn.disabled = true;
      elements.pauseBtn.disabled = false;
      elements.resetBtn.disabled = false;

      timerInterval = setInterval(() => {
        if (totalSeconds <= 0) {
          clearInterval(timerInterval);
          elements.timer.textContent = '00:00:00';
          document.title = '倒计时结束';
          elements.startBtn.disabled = false;
          elements.pauseBtn.disabled = true;
          alert('倒计时结束！');
          return;
        }

        totalSeconds--;
        updateTimerDisplay();
      }, 1000);
    }

    function togglePause() {
      if (isPaused) {
        timerInterval = setInterval(() => {
          if (totalSeconds <= 0) {
            clearInterval(timerInterval);
            elements.timer.textContent = '00:00:00';
            document.title = '倒计时结束';
            elements.startBtn.disabled = false;
            elements.pauseBtn.disabled = true;
            alert('倒计时结束！');
            return;
          }
          totalSeconds--;
          updateTimerDisplay();
        }, 1000);
        elements.pauseBtn.textContent = '暂停';
        isPaused = false;
      } else {
        clearInterval(timerInterval);
        elements.pauseBtn.textContent = '继续';
        isPaused = true;
      }
    }

    function resetTimer() {
      clearInterval(timerInterval);
      totalSeconds = 0;
      elements.timer.textContent = '00:00:00';
      document.title = '极简倒计时';
      elements.hours.value = '';
      elements.minutes.value = '';
      elements.seconds.value = '';
      elements.startBtn.disabled = false;
      elements.pauseBtn.disabled = true;
      elements.pauseBtn.textContent = '暂停';
      elements.resetBtn.disabled = true;
      isPaused = false;
    }

    function updateTimerDisplay() {
      const hours = Math.floor(totalSeconds / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      const timeString = `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;

      elements.timer.textContent = timeString;
      document.title = timeString + ' - 倒计时';
    }

    function pad(num) {
      return num < 10 ? '0' + num : num;
    }
  </script>
</body>
</html>
